<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <script src="raphael/raphael.js"></script>
    <!-- <script src="lib/raphael.min.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="game.js"></script>
    <script src="gui.js"></script>
    <script>
      window.onload = function () {

        var paper = Raphael(0,0,100,100);
        var font = paper.getFont("Times");

       var guiHandler = new Gui("raphael_gui_operation");

        var consoleHandler = {
          newItem : function(item, operator) {
            console.log(item.x + ' ' + operator.displayString + ' ' + item.y);
          },
          hasTimedOut : function() {
            console.log("Timeout reached");
          },
          endOfGame : function() {
            alert("Fin");
          },

          correctAnswer : function() {
            console.log("Correct!");
          },

          wrongAnswer : function() {
            console.log("Wrong!");
          }

        }

     
       var context = undefined;
       var level = Game.Levels.beginner;
       var theGame = new Game(level);
       theGame.addHandler(consoleHandler);
       theGame.addHandler(guiHandler);
       theGame.start();

       var submitFunction = function() {
         
         var ans = $("#answer").text();
         theGame.submitAnswer(ans);
       }


      
      }
      
    
    </script>
  </head>

  <body>
    <div id="raphael_gui_operation"></div>
    <form action="javascript:void(0);" submit="submitFunction()">
      <input name="answer" type="text" id="answer">
      <input type="submit" value="Submit">
    </form>
  </body>
</html>
